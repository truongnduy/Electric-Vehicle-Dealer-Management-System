# Server Configuration
server.port=8080
server.servlet.context-path=/
file.upload-dir=uploads
spring.web.resources.static-locations=file:uploads/

# ============================
# Database Configuration - MySQL
# ============================
# IMPORTANT: Update username and password to match your MySQL configuration
# Make sure MySQL is running and database 'DealerManagementSystem' exists
# To create database, run: CREATE DATABASE DealerManagementSystem CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
spring.datasource.url=jdbc:mysql://localhost:3306/DealerManagementSystem?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Ho_Chi_Minh
spring.datasource.username=root
spring.datasource.password=12345
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================
# JPA / Hibernate
# ============================
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl

# Logging
logging.level.org.springframework.security=DEBUG
logging.level.com.example.evm=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.example.evm.service.AuthService=DEBUG
logging.level.com.example.evm.security.JwtAuthenticationFilter=DEBUG
logging.level.com.example.evm.service.auth.TokenBlacklistService=DEBUG

# JWT
jwt.secret=evmDealerManagementSystem2025SecureKey
jwt.expiration=604800000

spring.mvc.throw-exception-if-no-handler-found=true
spring.web.resources.add-mappings=false
spring.jackson.deserialization.fail-on-unknown-properties=true

# Initialize DB with schema.sql at startup
# Set to 'always' to run SQL scripts on startup, 'never' to disable
# Make sure database connection is working before enabling this
spring.sql.init.mode=never

# Springdoc OpenAPI
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.url=/v3/api-docs

# Upload limits
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=1GB

# Timezone
spring.jackson.time-zone=Asia/Ho_Chi_Minh
